@using MudBlazor
@using System.Linq
@using Microsoft.AspNetCore.Components

@code {
    [Parameter]
    public string Password { get; set; } = string.Empty;

    private int PasswordScore => CalculatePasswordScore(Password);

    private string PasswordStrengthCategory
    {
        get
        {
            if (PasswordScore <= 1) return "Weak";
            if (PasswordScore == 2) return "Medium";
            return "Strong";
        }
    }

    private int CalculatePasswordScore(string password)
    {
        if (string.IsNullOrEmpty(password))
            return 0;

        int score = 0;

        if (password.Length >= 8) score++;
        if (password.Any(char.IsUpper)) score++;
        if (password.Any(char.IsDigit)) score++;
        if (password.Any(c => !char.IsLetterOrDigit(c))) score++;

        return score;
    }

    private Color GetStrengthBlockColor(int index)
    {
        if (PasswordScore == 0)
            return Color.Default;
        if (index < PasswordScore)
        {
            return PasswordStrengthCategory switch
            {
                "Weak" => Color.Error,
                "Medium" => Color.Warning,
                "Strong" => Color.Success,
                _ => Color.Default
            };
        }
        else
        {
            return Color.Default;
        }
    }
}


    <div class="d-flex align-center mt-2">
       <span class="me-2">Password strength:</span>
        @for (int i = 0; i < 4; i++)
        {
            <MudProgressLinear Class="mx-1"
                               Color="@GetStrengthBlockColor(i)"
                               Value="100"
                               Style="width: 50px; height: 8px; border-radius: 8px;" />
        }
    </div>
