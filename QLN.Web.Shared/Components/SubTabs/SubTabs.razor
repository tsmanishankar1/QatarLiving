@inherits ReusableTabsBase

<div class="tab-bar-wrapper">
    @if (Tabs != null)
    {
        @foreach (var item in Tabs)
        {
            <button class=@($"tab-button {(item.IsActive ? "selected-tab" : "")}") @onclick="() => OnTabSelected(item)">
                <div class="tab-button-inner">
                    <img src="@item.ImagePath" class="tab-icon @(item.IsActive ? "active-orange" : "default-gray")" />
                    <div class=@($"tab-label {(item.IsActive ? "active-tab" : "")}")>
                        @item.Text
                    </div>
                </div>
            </button>
        }
    }
</div>

<style>
    .tab-bar-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        overflow-x: auto;
        gap: 10px;
        padding: 8px 16px;
        background-color: var(--color-background);
        scrollbar-width: none;
        -ms-overflow-style: none;
        font-family: 'Public Sans', sans-serif;
    }

    .tab-bar-wrapper::-webkit-scrollbar {
        display: none;
    }

    .tab-button {
        min-width: 80px;
        padding: 8px;
        background: transparent;
        border: none;
        outline: none;
        cursor: pointer;
        border-radius: 8px;
        transition: background-color 0.3s ease, transform 0.3s ease, opacity 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .tab-button:hover {
        opacity: 0.85;
    }

    .tab-button-inner {
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: transform 0.3s ease;
    }

    .tab-button.selected-tab .tab-button-inner {
        transform: scale(1.05);
    }

    .tab-icon {
        width: 24px;
        height: 24px;
        margin-bottom: 2px;
        transition: filter 0.3s ease;
    }

    .active-orange {
        filter: brightness(0) saturate(100%) invert(64%) sepia(94%) saturate(1386%) hue-rotate(334deg) brightness(102%) contrast(97%);
    }

    .default-gray {
        filter: brightness(0) saturate(100%) invert(53%) sepia(0%) saturate(1031%) hue-rotate(176deg) brightness(93%) contrast(91%);
    }

    .tab-label {
        font-size: 12px;
        font-weight: 500;
        color: var(--color-text-descripton);
        transition: color 0.3s ease, border-bottom 0.3s ease;
    }

    .tab-label.active-tab {
        color: var(--color-accent);
        font-size: 12px;
        font-weight: 500;
        border-bottom: 3px solid var(--color-accent);
    }

    @@media (max-width: 768px) {
        .tab-bar-wrapper {
            gap: 8px;
            padding-left: 8px;
            padding-right: 8px;
        }

        .tab-button {
            min-width: 60px;
            padding: 4px;
        }

        .tab-icon {
            width: 20px;
            height: 20px;
            margin-bottom: 2px;
        }

        .tab-label {
            font-size: 0.65rem;
        }
    }
</style>
