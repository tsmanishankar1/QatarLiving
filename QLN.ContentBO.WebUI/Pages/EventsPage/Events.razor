@page "/manage/events"
@using QLN.ContentBO.WebUI.Models
@using QLN.ContentBO.WebUI.Pages.EventsPage
@inherits EventsBase

<MudGrid Style="padding-top: 18px">
    <MudItem xs="12" md="12">
        <MudText Class="events-style">Events</MudText>

        <MudTabs @bind-ActivePanelIndex="@activeIndex"
                 Rounded="false"
                 Class="custom-tabs"
                 DisableSlideAnimation="true">
            @foreach (var tab in categories)
            {
                <MudTabPanel Text="@tab" />
            }
        </MudTabs>

        @if (activeIndex == 0)
        {
           <AllEventList
              PaginatedData="PaginatedData"
                IsLoading="IsLoading"
                Events="events"
                Categories="Categories"
                CurrentPage="currentPage"
                PageSize="pageSize"
                OnPageChange="HandlePageChange"
                OnPageSizeChange="HandlePageSizeChange"
                OnDelete="DeleteEvent"
                AddEventCallback="NavigateToAddEvent"
                OnSortOrderChanged="HandleSortOrderChange"
                OnStatusChanged="HandleStatusChange"
                EventStatusChanged="UpdateEventStatusAsync" />

        }
        else
        {
            <FeaturedEventSlotsList FeaturedEventSlots="featuredEventSlots"
                                    Categories="Categories"
                                    ReplaceSlot="ReplaceEventSlot"
                                    OnDelete="DeleteFeatureEvent" />
        }
    </MudItem>
</MudGrid>

<style>
    .events-style {
        font-family: 'Public Sans', sans-serif;
        font-size: 30px;
        font-weight: 600;
        color: #242424;
        text-transform: none;
    }
    .custom-tabs {
        background-color: #FAFAFA !important;
        border-bottom: 1px solid #f0f0f0;
        margin-bottom: 8px;
        font-family: 'Public Sans', sans-serif;
    }

    .custom-tabs .mud-tab {
        font-weight: 600;
        font-size: 14px;
        color: #A1A1A1;
        text-transform: none;
        padding: 12px 20px;
    }

    .custom-tabs .mud-tab.mud-tab-active {
        color: #FF7F38 !important; 
        font-weight: 600;
        border-bottom: 3px solid #FF7F38;
    }

    .custom-tabs .mud-tabs-toolbar {
        border-bottom: none; 
    }
    .custom-tabs .mud-tab {
        transition: color 0.3s ease, border-bottom 0.3s ease;
    }
    .search-field{
        background-color: #FFFFFF;
        max-width: 400px;
    }
    .events-button-container {
        display: flex;
        gap: 16px; 
        align-items: center;
        padding-top: 16px;
    }
    .compact-button {
        min-width: unset !important;
        width: auto !important;
        padding: 6px 16px; 
        white-space: nowrap; 
        height: 44px;
    }
    .mud-primary-text {
        color: var(#535862) !important;
        --mud-ripple-color: var(#535862) !important;
    }
    .sort-by-style {
        color: #646464; 
        border-radius: 8px; 
        box-shadow: 0px 1px 2px rgba(16, 24, 40, 0.05); 
        text-transform: none;
        height: 44px;
        background-color: #FFFFFF;
        font-family: 'Public Sans', sans-serif;
        font-size: 14px;
        font-weight: 600;
    }
    .sort-by-wrapper {
        margin-left: auto; 
    }
     .mud-button-group {
        border-radius: 8px;
        overflow: hidden;
    }

    .mud-button {
        min-width: 120px;
        font-weight: 500;
    }
    .custom-tab-active {
        background-color: #FF7F38; 
        color: white !important;
        border-radius: 6px;
        font-weight: 600;
    }

    .custom-tab-default {
        color: rgba(0, 0, 0, 0.6);
        font-weight: 500;
    }
    .placeholder-text {
        color: #FF7F38 !important;
        font-weight: 600 !important;
    }

    .event-link {
        color: #535862 !important;
        text-decoration: none !important;
    }
    .custom-delete-button {
        background-color: #F44336; 
        border-radius: 12px; 
        padding: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        cursor: pointer;
    }
</style>