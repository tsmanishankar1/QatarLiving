@inherits StoreDealsSectionBase
@using QLN.Web.Shared.Components.Classifieds.StoreCard
@using QLN.Web.Shared.Pages.Classifieds.Skeletons
@using QLN.Web.Shared.Components.EmptyCard
@using MudBlazor

<div class="store-deals-wrapper">

     <div class="store-header">
            <h3 class="store-section-header">Discover amazing deals from the best stores in Qatar</h3>
    </div>
    
    @if (Loading)
    {
      <div class="store-skeleton-scroll-container">
            @for (int i = 0; i < 6; i++)
            {
                <div class="store-skeleton-item">
                    <StoreSkeletonCard />
                </div>
            }
        </div>

    }
    else if (Stores?.Any() != true)
    {
        <EmptyCard Title="No Store items found." Subtitle="Please check back later or explore other categories." />
    }
    else
    {

    <div class="swiper-container">
        <!-- Arrows -->
        <div class="swiper-store-button-prev store-custom-arrow-button storeleft">
            <MudIcon Icon="@Icons.Material.Filled.ChevronLeft" />
        </div>
        <div class="swiper-store-button-next store-custom-arrow-button storeright">
            <MudIcon Icon="@Icons.Material.Filled.ChevronRight" />
        </div>

        <!-- Swiper with reusable card -->
        <div class="swiper swiper-store">
            <div class="swiper-wrapper @(Stores.Count <= 6 ? "les5swiper-wrapper" : "")">
                <MudVirtualize Context="store" Items="Stores">
                    <div class="swiper-slide">
                        <StoreCard StoreData="store" OnShopNow="HandleShopNow" />
                    </div>
               </MudVirtualize>
            </div>
        </div>
    </div>
    }
</div>


