@inherits DailyMoreArticleBase
@using QLN.Web.Shared.Components.EmptyCard
@using QLN.Common.Infrastructure.DTO_s;



<div class="more-articles side-spacing">
    <h3 class="section-heading">
        <span class="accent-bar"></span>More Articles
    </h3>
    @if (isLoading)
    {
        @for (int i = 0; i < 4; i++)
        {
            <MudGrid Class="ps-3 py-1">
                <MudItem xs="9">
                    <MudSkeleton SkeletonType="SkeletonType.Text" Width="80%" Height="20px" Animation="Animation.Wave"
                        Class="mb-1" />
                    <MudSkeleton SkeletonType="SkeletonType.Text" Width="95%" Height="20px" Animation="Animation.Wave"
                        Class="mb-1" />
                    <MudSkeleton SkeletonType="SkeletonType.Text" Width="70%" Height="20px" Animation="Animation.Wave" />
                </MudItem>
                <MudItem xs="3">
                    <MudSkeleton SkeletonType="SkeletonType.Rectangle" Height="70px" Width="100%" Animation="Animation.Wave"
                        Class="rounded" />
                </MudItem>
            </MudGrid>
        }
    }
    else if (Items == null || !Items.Any())
    {
        <EmptyCard Title="No article found" Subtitle="Please check back later or explore other categories." />
    }
    else
    {
        <MudVirtualize Context="article" Items="Items" T="ContentEvent">
            <div class="daily-article-entry">
                    <div class="daily-article-title" @onclick="@(() => NavigatetoArticle(article))">
                        @(article.Title)
                    </div>
                       <div class="daily-image-container" >
                         <img src="@article.ImageUrl" alt="News-Image" class="daily-article-image"
                        key="@article.ImageUrl"/> 
                    </div>
            </div>
        </MudVirtualize>
    }
</div>

<style>
    .section-heading {
        margin: 0;
        display: flex;
        align-items: center;
        font-family: 'Public Sans', sans-serif;
        font-size: 25px;
        font-weight: 600;
        color: var(--color-text-heading);
        padding: 0px 0px 12px 0px;
    }

    .accent-bar {
        display: inline-block;
        width: 6px;
        height: 26px;
        background-color: var(--color-primary);
        margin-right: 8px;
    }

    .more-articles {
        max-width: 600px;
        font-family: 'Public Sans', sans-serif;
    }

    .heading-style {
        margin-right: 4px;
        font-size: 25px;
        font-weight: 600;
        font-family: 'Public Sans', sans-serif;
        color: var(--color-text-heading);
    }

    h3 {
        font-size: 20px;
        margin-bottom: 20px;
    }

    .daily-article-entry {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        padding: 0px 0px 6px 0px;
        border-bottom: 1px solid #F0F0F0;
    }
    .daily-image-container {
        width: 100%;
        max-width: 124px;
        aspect-ratio: 16 / 9;
        border-radius: 4px;
        overflow: hidden;
        background-color: #f3f3f3; 
        flex-shrink: 0;
    }
    .daily-article-entry:last-child {
        border-bottom: none;
    }

    .article-content {
        flex: 1;
    }

    .article-meta {
        color: #FF7F38;
        font-weight: 600;
        font-size: 14px;
        margin-bottom: 4px;
    }

    .daily-article-title {
        font-size: 16px;
        font-weight: 600;
        padding-right: 12px;
        text-decoration: none;
        color: var(--color-text-heading) !important;
        line-height: 26px;
        letter-spacing: 0;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .daily-article-title:hover {
        text-decoration: underline;
        cursor: pointer;
        color: var(--color-primary) !important;
    }

    .daily-article-image {
       width: 100%;
        height: 100%;
        border-radius: 4px;
        object-fit: cover; 
    }

        .daily-article-image:hover{
            cursor: pointer;
        }

    @@media (max-width: 768px) {
        .side-spacing {
            padding: 0 16px;
        }
    }
</style>