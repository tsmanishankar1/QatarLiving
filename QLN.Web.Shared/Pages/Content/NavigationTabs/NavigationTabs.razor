@inject NavigationManager NavigationManager
@using Microsoft.Extensions.Options
@using QLN.Web.Shared.Components.SubTabs
@using QLN.Web.Shared.Services

@inject IOptions<NavigationPath> NavigationPathOptions

<SubTabs Tabs="@tabItems" OnTabClick="@OnTabClick" />

@code {

    private string ContentDaily { get; set; } = "/content/daily";
    private string ContentNews { get; set; } = "/content/news";
    private string ContentEvents { get; set; } = "/content/events";
    private string ContentCommunity { get; set; } = "/content/community";

    private string ContentNewsDetail { get; set; } = "/content/v2/article";
    private string ContentNewsDailyDetail { get; set; } = "/content/v2/daily";
    private string ContentEventsDetail { get; set; } = "/content/v2/event";
    private string ContentCommunityPostDetails { get; set; } = "/content/v2/community/post/detail/";


    private List<SubTabs.TabItem> tabItems = new();

    protected override void OnInitialized()
    {
        ContentDaily = NavigationPathOptions.Value.ContentDaily;
        ContentNews = NavigationPathOptions.Value.ContentNews;
        ContentEvents = NavigationPathOptions.Value.ContentEvents;
        ContentCommunity = NavigationPathOptions.Value.ContentCommunity;

        ContentNewsDetail = NavigationPathOptions.Value.ContentNewsDetail;
        ContentNewsDailyDetail = NavigationPathOptions.Value.ContentNewsDailyDetails;
        ContentEventsDetail = NavigationPathOptions.Value.ContentEventsDetail;
        ContentCommunityPostDetails = NavigationPathOptions.Value.ContentCommunityPostDetails;

        tabItems = new () {
            new()
            {
                Text = "Daily",
                Route = ContentDaily,
                ActiveRoutePaths = new List<string> { ContentDaily, "/", $"{ContentNewsDailyDetail}" },
                ImagePath = "/qln-images/content/daily_icon.svg"
            },
            new()
            {
                Text = "News",
                Route = ContentNews,
                ActiveRoutePaths = new List<string> { ContentNews, $"{ContentNewsDetail}" },
                ImagePath = "/qln-images/content/news_icon.svg"
            },
            new()
            {
                Text = "Events",
                Route = ContentEvents,
                ActiveRoutePaths = new List<string> { ContentEvents, $"{ContentEventsDetail}" },
                ImagePath = "/qln-images/content/events_icon.svg"
            },
            new()
            {
                Text = "Community",
                Route = ContentCommunity,
                ActiveRoutePaths = new List<string> { ContentCommunity, $"{ContentCommunityPostDetails}" },
                ImagePath = "/qln-images/content/community_icon.svg"
            }
        };

        // You can perform any initialization logic here if needed
        base.OnInitialized();
    }

    private void OnTabClick(SubTabs.TabItem tab)
    {
        NavigationManager.NavigateTo(tab.Route, true);
        // You can do additional logic here
    }
}