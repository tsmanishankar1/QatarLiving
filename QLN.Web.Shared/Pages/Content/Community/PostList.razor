@inherits PostListBase
@using QLN.Web.Shared.Components.EmptyCard

<div class="more-posts-container">
    <div class="more-posts-header">
        <div class="accent-bar"></div>
        <MudText Class="more-posts-title">More Posts</MudText>
    </div>

    <div class="d-flex flex-column gap-3 mt-4">
        @if (isLoading)
        {
            @for (int i = 0; i < 4; i++)
            {
                <MudSkeleton Height="16px" Width="80%" Animation="Animation.Wave" Class="mt-2" />
                <MudDivider Class="my-1" />
            }
        }
        else if (posts == null || !posts.Any())
        {
            <EmptyCard Title="More Post Section Could not be loaded." Subtitle="Please check back later for updates." />
        }
        else
        {
            @foreach (var post in posts)
            {
                <span @onclick="() => NavigateToPostDetail(post.Slug)" class="post-link">
                    @post.Title
                </span>
                <MudDivider Class="my-1" />
            }
        }
    </div>
</div>


<style>
    .more-posts-container {
        padding: 10px;
        max-width:340px;
    }

    .more-posts-header {
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 8px;
    }

    .accent-bar {
        width: 6px;
        height: 26px;
        background-color: #00426D;
    }
    .more-posts-title {
        font-family: 'Public Sans', sans-serif;
        font-weight: 500;
        font-size: 25px;
        color: #242424;
    }

    .post-link {
        font-family: 'Public Sans', sans-serif;
        font-weight: 500;
        font-size: 15px;
        color: #242424;
        text-decoration: none;
        transition: color 0.2s ease;
    }

        .post-link:hover {
            color: #00426D;
            text-decoration: underline;
        }
</style>
