@using MudBlazor

<div class="ps-section">
    @if (!string.IsNullOrWhiteSpace(Title))
    {
        <h3 class="ps-title">@Title</h3>
    }

    @foreach (var item in Items)
    {
        <MudPaper Class="@($"ps-item {(item.Expanded ? "expanded" : "")}")" Elevation="0">
            <MudButton Variant="Variant.Text" FullWidth="true" Class="@($"ps-question {(item.Expanded ? "expanded" : "")}")"
                EndIcon="@(item.Expanded? Icons.Material.Filled.ExpandLess : Icons.Material.Filled.ExpandMore)"
                OnClick="@(() => Toggle(item))">
                <h4 class="ps-question-text">@item.Question</h4>
            </MudButton>

            <MudCollapse Expanded="@item.Expanded">
                <div class="ps-columns">
                    @foreach (var location in item.AnswerList)
                    {
                        <h4 class="ps-link-text"><a href="#">@location</a></h4>
                    }
                </div>
            </MudCollapse>
        </MudPaper>
    }
</div>

<style>
    .ps-section {
        padding: 2rem 1rem;
        background-color: var(--color-secondary-background);
    }

    .ps-title {
        font-weight: 600;
        font-size: 30px;
        color: var(--color-text-heading);
        margin-bottom: 2rem;
        text-align: center;
    }

    .ps-question-text {
        font-weight: 500;
        font-size: 15px;
        color: var(--color-text-heading);
        margin: 0;
    }

    .ps-link-text {
        font-weight: 400;
        font-size: 14px;
        margin: 0;
    }

    .ps-link-text a {
        color: var(--color-primary);
        text-decoration: none;
    }

    .ps-link-text a:hover {
        text-decoration: underline;
    }

    .ps-item {
        margin-bottom: 8px;
        border-radius: 4px;
        overflow: hidden;
        background-color: var(--color-secondary-background);
        transition: background-color 0.3s ease;
    }

    .ps-item.expanded {
        background-color: var(--color-secondary-background);
    }

    .ps-question {
        padding: 1rem;
        justify-content: space-between;
        text-transform: none;
        color: var(--color-text-secondary);
        background-color: transparent;
        transition: background-color 0.3s ease;
    }

    .ps-question:hover,
    .ps-question.expanded {
        background-color: var(--color-background-secondary-grey);
    }

    .ps-columns {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        padding: 1rem 1.5rem;
        gap: 0.5rem 2rem;
        background-color: var(--color-secondary-background);
    }

    @@media (max-width: 768px) {
        .ps-columns {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @@media (max-width: 480px) {
        .ps-columns {
            grid-template-columns: 1fr;
        }
    }
</style>