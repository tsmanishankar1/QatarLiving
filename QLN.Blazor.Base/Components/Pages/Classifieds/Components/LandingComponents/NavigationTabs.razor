@using MudBlazor

<MudPaper Elevation="0" Class="px-4 py-2 d-flex justify-center" Style="background-color:var(--color-background); gap: 16px;">
    @foreach (var item in tabItems)
    {
        <MudButton 
            Variant="Variant.Text" 
            Class="d-flex flex-column align-center justify-center"
            DisableElevation="true"
            DisableRipple="true"
            OnClick="@(() => ActivateTab(item))"
            Style="min-width: 80px; height: auto; padding: 8px;"
        >
            <div class="d-flex flex-column align-center">
                <img src="@item.ImagePath"
                     style="width: 24px; height: 24px; margin-bottom: 4px; filter: @(item.IsActive ? "brightness(0) saturate(100%) hue-rotate(15deg) contrast(120%)" : "none");" />
                <MudText 
                    Typo="Typo.body2"
                   Style="font-weight: 400; color: inherit;"
                >
                    @item.Text
                </MudText>
            </div>
        </MudButton>
    }
</MudPaper>

@code {
    private List<TabItem> tabItems = new()
    {
        new TabItem { Text = "Home", ImagePath = "/images/classifieds_home.svg" },
        new TabItem { Text = "Deals", ImagePath = "/images/classifieds_deals.svg" },
        new TabItem { Text = "Stores", ImagePath = "/images/classifieds_store.svg" },
        new TabItem { Text = "Preloved", ImagePath = "/images/classifieds_preloved.svg" },
        new TabItem { Text = "Collectibles", ImagePath = "/images/classifieds_collectibles.svg" },
    };

    private void ActivateTab(TabItem selectedItem)
    {
        foreach (var item in tabItems)
        {
            item.IsActive = item == selectedItem;
        }
    }

    public class TabItem
    {
        public string Text { get; set; }
        public string ImagePath { get; set; }
        public bool IsActive { get; set; }
    }
}
