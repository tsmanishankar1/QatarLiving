@page "/post-detail"
@inject NavigationManager Navigation
@using QLN.Web.Shared.Components.BreadCrumb

<div style="width: 100%; background-color: var(--color-secondary-background);">
    <div style="width: 100%; padding: 0 40px;">

        <!-- Carousel Banner -->
        <div class="category-banner-wrapper">
            <img src="/images/banner_image.svg" alt="Category Banner" class="category-banner-image" />
        </div>

        <Breadcrumb Items="breadcrumbItems" />

        <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="py-4">
            <MudGrid>
                <!-- Left Section -->
                <MudItem xs="12" md="8">

                    @foreach (var post in posts)
                    {
                        <PostCard Post="post" />
                        <div class="disclaimer-section">
                            <img src="images/content/Warning.svg" alt="Disclaimer Icon" class="disclaimer-icon" />
                            <span class="disclaimer-text">
                                Disclaimer: Community posts and comments reflect the views of users and are not published or endorsed by Qatar Living.
                            </span>
                        </div>

                        <CommentSection Comment="post"/>
                    }
                </MudItem>

                <!-- Right Section -->
                <MudItem xs="12" md="4">
                    <MudPaper Class="p-3 mb-4" Elevation="1">
                        <CommunityRules />
                    </MudPaper>
                    <MudImage Src="/images/content/Ad.png" Alt="Advertisement" Style="width: 340px; height: 402px;margin-top:12px" />
                </MudItem>
            </MudGrid>
        </MudContainer>

    </div>
</div>

@code {
    [Parameter]
    public int PostId { get; set; }
    private List<QLN.Web.Shared.Components.BreadCrumb.BreadcrumbItem> breadcrumbItems = new();
    private string search = string.Empty;
    private string sortOption = "Popular";
    private List<PostModel> posts = new()
    {
        new PostModel
        {
            Category = "Advice & Help",
            Title = "Anyone wanna buy 5x Seated Travis Scott Tickets?",
            ImageUrl = "images/content/Post1.svg",
            Author = "Ismat Zerin",
            Time = DateTime.Now.AddHours(-2),
            LikeCount = 3,
            CommentCount = 12,
            isCommented=true,
            Comments = new List<CommentModel>
    {
        new CommentModel
        {
            Avatar = "images/avatars/user1.png",
            CreatedBy = "You",
            CreatedAt = DateTime.Now.AddMinutes(-10),
            Description = "I might be interested, can you DM the price?",
            LikeCount = 2,
            UnlikeCount = 0,
            IsByCurrentUser = true
        },
        new CommentModel
        {
            Avatar = "images/avatars/user2.png",
            CreatedBy = "Alex Morgan",
            CreatedAt = DateTime.Now.AddMinutes(-5),
            Description = "That’s too expensive for me.",
            LikeCount = 0,
            UnlikeCount = 1,
            IsByCurrentUser = false
        }
    }


        },
         
    };

    protected override async void OnInitialized()
    {
        breadcrumbItems = new()
        {
            new() { Label = "Community", Url = "community" },
            new() { Label = "Discussion", Url = "/post-detail/{PostId:int}",IsLast=true }
        };

    }
 

    
}
<style>
    .disclaimer-section {
        background-color: #FFF8EC;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        border-radius: 4px;
        margin-top:10px;
    }

    .disclaimer-icon {
        width: 20px;
        height: 20px;
        margin-right: 12px;
        vertical-align: middle;
    }

    .disclaimer-text {
        font-family: 'Public Sans', sans-serif;
        font-weight: 700;
        font-size: 14px;
        line-height: 22px;
        color: #646464;
    }

</style>