@inherits ViewSubscriptionListingTableBase
@using MudBlazor
@using QLN.ContentBO.WebUI.Components.ToggleTabs
@using QLN.ContentBO.WebUI.Components.PaginationFooter
@using QLN.ContentBO.WebUI.Components.EmptyCard
@using QLN.ContentBO.WebUI.Models

<MudPaper Class="pa-4">
    @if(Listings == null || !Listings.Any()){

<EmptyCard Title="No Services Available" Subtitle="Please check back later or explore other categories." />

        
    }
    else{
   <MudTable Items="Listings"
          Hover="true"
          Bordered="true"
          Elevation="0"
          Class="mud-table event-custom-table">

    <HeaderContent>
        <MudTh class="header-cell">Ad ID</MudTh>
        <MudTh class="header-cell">Order Id</MudTh>
        <MudTh class="header-cell">Subscription Plan</MudTh>
        <MudTh class="header-cell">Username</MudTh>
        <MudTh class="header-cell">Email</MudTh>
        <MudTh class="header-cell">Mobile</MudTh>
        <MudTh class="header-cell">Whatsapp</MudTh>
        <MudTh class="header-cell">Amount</MudTh>
        <MudTh class="header-cell">Status</MudTh>
        <MudTh class="header-cell">Start Date</MudTh>
        <MudTh class="header-cell">End Date</MudTh>
        <MudTh class="header-cell">Actions</MudTh>
    </HeaderContent>

    <RowTemplate>
        <MudTd>@context.AddId</MudTd>
        <MudTd>@context.OrderId</MudTd>
        <MudTd>@context.SubscriptionPlan</MudTd>
        <MudTd>@context.UserName</MudTd>
        <MudTd>@context.EmailAddress</MudTd>
        <MudTd>@context.Mobile</MudTd>
        <MudTd>@context.WhatsappNumber</MudTd>
        <MudTd>@context.Amount</MudTd>
        <MudTd>@((ServiceStatus)context.Status)</MudTd>
        <MudTd>@context.StartDate</MudTd>
        <MudTd>@context.EndDate</MudTd>
        <MudTd>
            <MudMenu Icon="@Icons.Material.Filled.MoreVert">
                <MudMenuItem OnClick="() => OnEdit(context)">
                    <MudIcon Icon="@Icons.Material.Filled.Edit" /> Edit
                </MudMenuItem>
                <MudMenuItem OnClick="() => OnPreview(context)">
                    <MudIcon Icon="@Icons.Material.Filled.Visibility" /> Preview
                </MudMenuItem>
                <MudMenuItem  Class="mud-text-error">
                    <MudIcon Icon="@Icons.Material.Filled.Delete" /> Remove
                </MudMenuItem>
            </MudMenu>
        </MudTd>
    </RowTemplate>
</MudTable>
}
     <PaginationFooter TotalItems="@TotalCount" CurrentPage="@currentPage" PageSize="@pageSize"
                OnPageChange="@HandlePageChange" OnPageSizeChange="@HandlePageSizeChange" />
</MudPaper>
